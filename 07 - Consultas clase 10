-- 01. Función control de stock

DELIMITER //

CREATE FUNCTION control_stock(dato INT) RETURNS INT
DETERMINISTIC
BEGIN
    DECLARE resultado INT;
    -- Aquí se usa SELECT ... INTO para asignar el valor a 'resultado'
    SELECT stock INTO resultado FROM libros WHERE id_libro = dato;
    RETURN resultado; -- La función devuelve un único valor escalar
END//
DELIMITER ;

-- 02. Función cambiar nombre

CREATE FUNCTION actualizar_nombre(dato INT, nombre VARCHAR(60)) RETURNS VARCHAR(60)
DETERMINISTIC
BEGIN
    DECLARE resultado INT;
    
    UPDATE libros SET titulo = nombre WHERE id_libro = dato;
    SET resultado = nombre;
    RETURN resultado; 
END//
DELIMITER ;


